<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
<bean id="geosearchMapping" class="org.geoserver.rest.RESTMapping">
<property name="routes">
  <map>
        <entry>
          <key><value>/sitemap.xml</value></key>
          <value>sitemapindex</value>
        </entry>
        <entry>
          <key><value>/layers/{layer}/sitemap.xml</value></key>
          <value>layersitemap</value>
        </entry>
        <entry>
          <key><value>/{namespace}/{layer}.kml</value></key>
          <value>feature</value>
        </entry>
        <entry>
          <key><value>/{namespace}/{layer}/{feature}.kml</value></key>
          <value>feature</value>
        </entry>
        <entry>
          <key><value>/{namespace}/{layer}.html</value></key>
          <value>aboutpage</value>
        </entry>
  </map>
</property>
</bean>

<bean id="sitemapindex" class="org.geoserver.geosearch.SiteMapIndexRestlet">
    <property name="dataConfig"><ref bean="dataConfig"/></property>
    <property name="data"><ref bean="data"/></property>
    <property name="geoServer"><ref bean="geoServer"/></property>
</bean>
<bean id="layersitemap" class="org.geoserver.geosearch.LayerSiteMapRestlet">
    <property name="dataConfig"><ref bean="dataConfig"/></property>
    <property name="data"><ref bean="data"/></property>
    <property name="geoServer"><ref bean="geoServer"/></property>
</bean>
<bean id="feature" class="org.geoserver.geosearch.FeatureRestlet">
    <property name="wms"><ref bean="wms"/></property>
    <property name="webMapService"><ref bean="webMapService"/></property>
    <property name="catalog"><ref bean="catalog"/></property>
</bean>
<bean id="aboutpage" class="org.geoserver.geosearch.LayerAboutPage">
    <property name="catalog"><ref bean="catalog"/></property>
</bean>

</beans>
